import{r as i,k as r,l as b,j as h,d as v,o as f,e as m,f as t,t as a,g as _}from"./index-2eb3e8c7.js";const p={class:"grid"},x={class:"col-12 lg:col-6 xl:col-3"},g={class:"card mb-0"},y={class:"flex justify-content-between mb-3"},k=t("span",{class:"block text-500 font-medium mb-5"},"Total Material",-1),C={class:"text-900 font-bold text-xl"},D={class:"col-12 lg:col-6 xl:col-3"},w={class:"card mb-0"},A={class:"flex justify-content-between mb-3"},T=t("span",{class:"block text-500 font-medium mb-5"},"Total User",-1),j={class:"text-900 font-bold text-xl"},I={class:"col-12 lg:col-6 xl:col-3"},J={class:"card mb-0"},M={class:"flex justify-content-between mb-3"},S=t("span",{class:"block text-500 font-medium mb-5"},"Total Inbound",-1),B={class:"text-900 font-bold text-xl"},E={class:"col-12 lg:col-6 xl:col-3"},O={class:"card mb-0"},F={class:"flex justify-content-between mb-3"},N=t("span",{class:"block text-500 font-medium mb-5"},"Total Outbound",-1),P={class:"text-900 font-bold text-xl"},Y={class:"col-12 xl:col-6"},L={class:"card"},U=t("h5",null,"Inbound",-1),V={class:"col-12 xl:col-6"},$={class:"card"},z=t("h5",null,"Outbound",-1),q={__name:"Dashboard",setup(G){const o=i([]),s=r({labels:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],datasets:[{label:"This Year",data:[],fill:!1,backgroundColor:"#000000",borderColor:"#000000",tension:.4},{label:"Last Year",data:[],borderDash:[5,5],fill:!1,backgroundColor:"#c0c0c0",borderColor:"#c0c0c0",tension:.4}]}),l=r({labels:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],datasets:[{label:"This Year",data:[],fill:!1,backgroundColor:"#000000",borderColor:"#000000",tension:.4},{label:"Last Year",data:[],borderDash:[5,5],fill:!1,backgroundColor:"#c0c0c0",borderColor:"#c0c0c0",tension:.4}]}),c=i({plugins:{legend:{align:"end",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:4}}}});b(async()=>{try{const e=await fetch(`${h}/api/dashboard`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),n=await e.json();if(e.ok)o.value=n.data,console.log(o),u();else throw new Error(n.error||"Failed to fetch data from API")}catch(e){console.error("Error fetching data from API:",e),toast.add({severity:"error",summary:"Error",detail:"Failed to fetch data from API",life:5e3})}});function u(){s.datasets[0].data=o.value.total_inbound_this_year,s.datasets[1].data=o.value.total_inbound_last_year,l.datasets[0].data=o.value.total_outbound_this_year,l.datasets[1].data=o.value.total_outbound_last_year}return(e,n)=>{const d=v("Chart");return f(),m("div",p,[t("div",x,[t("div",g,[t("div",y,[t("div",null,[k,t("div",C,a(o.value.count_material),1)])])])]),t("div",D,[t("div",w,[t("div",A,[t("div",null,[T,t("div",j,a(o.value.count_user),1)])])])]),t("div",I,[t("div",J,[t("div",M,[t("div",null,[S,t("div",B,a(o.value.count_inbound),1)])])])]),t("div",E,[t("div",O,[t("div",F,[t("div",null,[N,t("div",P,a(o.value.count_outbound),1)])])])]),t("div",Y,[t("div",L,[U,_(d,{type:"line",data:s,options:c.value},null,8,["data","options"])])]),t("div",V,[t("div",$,[z,_(d,{type:"line",data:l,options:c.value},null,8,["data","options"])])])])}}};export{q as default};
